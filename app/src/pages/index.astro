---
//@ts-nocheck this is needed because web components don't yet support linting, move to editor astro component later
import OuterLayout from "../layouts/OuterLayout.astro"

import { EditorMixed } from "@kutelabs/editor-mixed"
import { getCollection } from "astro:content"
import ElevatedBox from "../components/ElevatedBox.astro"
import InnerLayout from "../layouts/InnerLayout.astro"

const challenges = await getCollection("challenges")
---

<InnerLayout title="wip">
  <div class="flex w-full min-h-screen flex-col items-center justify-center gap-8 py-12">
    <h1>kutelabs. a kute way to learn kotlin :)</h1>
    <a href="/learn">
      <ElevatedBox elevation={2} hoverable class="bg-beige-50">
        <p class="p-4">Go to available lessons</p>
      </ElevatedBox>
    </a>
  </div>
</InnerLayout>

<script>
  import { JsCompiler } from "@kutelabs/editor-mixed/src/compile/JsCompiler"
  import { KtCompiler } from "@kutelabs/editor-mixed/src/compile/KtCompiler"

  //@ts-ignore
  document.querySelector("editor-mixed").config = config

  //@ts-ignore
  document.querySelector("#btn-tojs").addEventListener(
    "click",
    (() => {
      //@ts-ignore
      console.log(document.querySelector("editor-mixed").compile(JsCompiler))
    }).bind(this)
  )
  //@ts-ignore
  document.querySelector("#btn-execjs").addEventListener(
    "click",
    (() => {
      //@ts-ignore
      console.log("exec js not yet imeplemented")
    }).bind(this)
  )
  //@ts-ignore
  document.querySelector("#btn-tokt").addEventListener(
    "click",
    (() => {
      //@ts-ignore
      console.log(document.querySelector("editor-mixed").compile(KtCompiler))
    }).bind(this)
  )
</script>
