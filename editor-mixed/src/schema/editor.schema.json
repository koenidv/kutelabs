{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/koenidv/kutelabs/refs/heads/main/editor-mixed/schema/editor.schema.json",
  "title": "Mixed Content Editor Configuration",
  "description": "Configuration for the mixed content editor within a kutelabs challenge",
  "type": "object",
  "properties": {
    "type": {
      "description": "Defines this editor as a mixed content editor",
      "type": "string",
      "const": "mixed"
    },

    "initialBlocks": {
      "description": "Initial blocks to be loaded into the editor",
      "type": "array",
      "items": {
        "oneOf": [
          {
            "type": "object",
            "description": "Root block with coordinates",
            "allOf": [
              {
                "$ref": "./blocks.schema.json"
              },
              {
                "properties": {
                  "coordinates": {
                    "x": {
                      "type": "number"
                    },
                    "y": {
                      "type": "number"
                    }
                  }
                },
                "required": [
                  "coordinates"
                ],
                "additionalProperties": false
              }
            ]
          },
          {
            "type": "object",
            "description": "Connecting block with previous block id",
            "allOf": [
              {
                "$ref": "./blocks.schema.json"
              },
              {
                "properties": {
                  "previousBlockId": {
                    "type": "string"
                  }
                },
                "required": [
                  "previousBlockId"
                ],
                "additionalProperties": false
              }
            ]
          }
        ]
      }
    },

    "initialDrawerBlocks": {
      "description": "Initial blocks to be loaded into the editor",
      "type": "array",
      "items" : {
        "$ref": "./blocks.schema.json"
      }
    }
  },
  "required": [
    "type",
    "initialBlocks",
    "initialDrawerBlocks"
  ],
  "additionalProperties": false
}